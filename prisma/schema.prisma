generator client {
  provider             = "prisma-client-py"
  output               = "../src/prisma_client/"
  interface            = "sync"
  recursive_type_depth = "5"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model DictKey {
  id         String       @id
  main_code  String
  sub_code   String
  group      String
  status     Int          @default(1)
  created_at DateTime?    @default(now())
  updated_at DateTime?
  DictValues DictValues[]

  @@unique([main_code, sub_code])
}

model DictValues {
  id         String    @id
  code       String
  value      String?
  sort       Int       @default(-1)
  type       String    @default("text")
  created_at DateTime? @default(now())
  updated_at DateTime?
  status     Int       @default(1)
  dictId     String
  DictKey    DictKey   @relation(fields: [dictId], references: [id])

  @@unique([code, dictId])
}

model Post {
  id         String     @id
  title      String
  code       String
  content    String?
  is_deploy  Boolean    @default(false)
  created_by String?
  created_at DateTime?  @default(now())
  updated_at DateTime?
  deploy_at  DateTime?
  userId     String
  status     Int        @default(1)
  PostTags   PostTags[]
}

model PostCate {
  id             String     @id
  title          String
  code           String
  is_root        Boolean    @default(true)
  status         Int        @default(1)
  postCateId     String?
  PostCate       PostCate?  @relation("PostCateToPostCate", fields: [postCateId], references: [id])
  other_PostCate PostCate[] @relation("PostCateToPostCate")
}

model PostTags {
  id     String @id
  title  String
  code   String @unique
  status Int    @default(1)
  Post   Post[]
}

model User {
  id         String    @id
  account    String
  password   String
  nickname   String
  salt       String
  created_at DateTime? @default(now())
  updated_at DateTime?
  status     Int       @default(1)
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model test {
  id Int?

  @@ignore
}
